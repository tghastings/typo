<script type="text/javascript">
  $('quicktags').style.display = 'block';
  $('simple_editor').style.display = 'block';
  $('s').className = 'active';
  $('f').className = '';
  $('text_filter').value = $('user_textfilter').value;

  // Get content from Quill editor if it exists
  var content = '';
  var editorElement = document.querySelector('#visual_editor [data-rich-editor-target="editor"]');
  if (editorElement && editorElement.quill) {
    content = editorElement.quill.root.innerHTML;
  } else {
    content = $('article_body_and_extended').value;
  }

</script>
<%= text_area('article', 'body_and_extended', {:class => 'large', :height => '300px', :rows => '20'}) %>
<script type="text/javascript">
  $('visual_editor').innerHTML = "";
  $('visual_editor').style.display = 'none';
  $('article_body_and_extended').value = content;
  if ($('carousel-wrapper')) {
    $('carousel-wrapper').style.display = 'block';
  }
</script>