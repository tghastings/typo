# Database configuration for Typo Blog
# Supports SQLite for development/simple deployments and PostgreSQL for production

default: &default
  pool: <%= ENV.fetch("RAILS_MAX_THREADS") { 5 } %>
  timeout: 5000

development:
  <<: *default
  adapter: sqlite3
  database: db/db_development

test:
  <<: *default
  adapter: sqlite3
  database: db/db_test
  timeout: 60000

# Production supports both SQLite and PostgreSQL
# Use DATABASE_URL environment variable for PostgreSQL:
#   DATABASE_URL=postgres://user:pass@host:5432/dbname
# Or leave unset to use SQLite
production:
  <<: *default
  <% if ENV['DATABASE_URL'] %>
  url: <%= ENV['DATABASE_URL'] %>
  <% else %>
  adapter: sqlite3
  database: prod_db/db_production.sqlite3
  <% end %>

cucumber:
  <<: *default
  adapter: sqlite3
  database: db/db_test
  timeout: 60000
